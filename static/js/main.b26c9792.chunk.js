(this["webpackJsonpgoit-react-hw-03-image-finder"]=this["webpackJsonpgoit-react-hw-03-image-finder"]||[]).push([[0],{16:function(e,t,a){e.exports={ImageGalleryItem:"ImageGalleryItem_ImageGalleryItem__3juke",ImageGalleryItem_image:"ImageGalleryItem_ImageGalleryItem_image__2HgIG"}},17:function(e,t,a){e.exports={Overlay:"Modal_Overlay__3YEs7",Modal:"Modal_Modal__14lk_"}},27:function(e,t,a){e.exports={ImageGallery:"ImageGallery_ImageGallery__2Kmeu"}},28:function(e,t,a){e.exports={Button:"Button_Button__2P6wN"}},34:function(e,t,a){},36:function(e,t,a){},5:function(e,t,a){e.exports={Searchbar:"SearchBar_Searchbar__3WlBA",SearchForm:"SearchBar_SearchForm__bkAAF",SearchForm_button:"SearchBar_SearchForm_button__32N2G",SearchForm_button_label:"SearchBar_SearchForm_button_label__1ODYo",SearchForm_input:"SearchBar_SearchForm_input__Ha45n"}},78:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),o=a(6),c=a.n(o),l=(a(34),a(4)),s=a.n(l),i=a(18),u=a(7),m=a(8),h=a(9),d=a(11),g=a(10),p=(a(36),a(5)),b=a.n(p),j=a(1),f=function(e){var t=e.onSearch;return Object(j.jsx)("header",{className:b.a.Searchbar,children:Object(j.jsxs)("form",{className:b.a.SearchForm,onSubmit:function(e){e.preventDefault(),t(e.target.elements.imageName.value),e.target.reset()},children:[Object(j.jsx)("button",{type:"submit",className:b.a.SearchForm_button,children:Object(j.jsx)("span",{className:b.a.SearchForm_button_label,children:"Search"})}),Object(j.jsx)("input",{className:b.a.SearchForm_input,type:"text",autoComplete:"off",autoFocus:!0,placeholder:"Search images and photos",name:"imageName"})]})})},_=a(15),O=a.n(_);O.a.defaults.baseURL="https://pixabay.com/api";var S=function(){var e=Object(u.a)(s.a.mark((function e(t,a){var n,r;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,O.a.get("/?q=".concat(t,"&page=").concat(a,"&key=22647650-093efc913fe4b5bfd764725e8&image_type=photo&orientation=horizontal&per_page=12"));case 2:return n=e.sent,r=n.data,console.log(r),e.abrupt("return",r.hits);case 6:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),v=a(16),y=a.n(v),x=function(e){var t=e.webformatURL,a=e.largeImageURL,n=e.tags,r=e.handleSelectedImage;return Object(j.jsx)("li",{className:y.a.ImageGalleryItem,children:Object(j.jsx)("img",{src:t,alt:n,className:y.a.ImageGalleryItem_image,onClick:function(){return r(a,n)}})})},w=a(27),I=a.n(w),k=function(e){var t=e.images,a=e.handleSelectedImage;return Object(j.jsx)("ul",{className:I.a.ImageGallery,children:t.map((function(e){e.id;var t=e.webformatURL,n=e.largeImageURL,r=e.tags;return Object(j.jsx)(x,{webformatURL:t,largeImageURL:n,tags:r,handleSelectedImage:a})}))})},N=a(28),F=a.n(N),L=function(e){var t=e.onClick;return Object(j.jsx)("button",{type:"button",className:F.a.Button,onClick:t,children:"Load more"})},M=a(29),B=a.n(M),C=(a(77),function(){return Object(j.jsx)(B.a,{type:"Hearts",color:"#00BFFF",height:80,width:80})}),G=a(12),U=a(17),R=a.n(U),D=document.querySelector("#modal-root"),E=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).handleKeyDown=function(t){"Escape"===t.code&&e.props.onClose()},e.handleBackdropClick=function(t){t.currentTarget===t.target&&e.props.onClose()},e}return Object(h.a)(a,[{key:"componentDidMount",value:function(){window.addEventListener("keydown",this.handleKeyDown)}},{key:"componentWillUnmount",value:function(){window.removeEventListener("keydown",this.handleKeyDown)}},{key:"render",value:function(){return Object(o.createPortal)(Object(j.jsx)("div",{className:R.a.Overlay,onClick:this.handleBackdropClick,children:Object(j.jsx)("div",{className:R.a.Modal,children:this.props.children})}),D)}}]),a}(n.Component);E.defaultProps={onClose:function(){return null},children:null};var T=E,A=function(e){Object(d.a)(a,e);var t=Object(g.a)(a);function a(){var e;Object(m.a)(this,a);for(var n=arguments.length,r=new Array(n),o=0;o<n;o++)r[o]=arguments[o];return(e=t.call.apply(t,[this].concat(r))).state={imageName:null,images:[],status:"idle",page:1,error:null,showModal:!1,largeImageURL:"",imgTags:""},e.handleFormSubmit=function(t){e.setState({imageName:t,page:1,images:[]})},e.handleLoadMore=function(){e.setState((function(e){return{page:e.page+1}}))},e.scrollOnLoadButton=function(){window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"})},e.handleSelectedImage=function(t,a){e.setState({largeImageURL:t,imgTags:a}),e.toggleModal()},e.toggleModal=function(){e.setState((function(e){return{showModal:!e.showModal}}))},e}return Object(h.a)(a,[{key:"componentDidUpdate",value:function(){var e=Object(u.a)(s.a.mark((function e(t,a){var n,r,o,c;return s.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=this.state,r=n.imageName,o=n.page,a.imageName===r&&a.page===o){e.next=18;break}return e.prev=2,this.setState({status:"pending"}),e.next=6,S(r,o);case 6:if(c=e.sent,this.setState({status:"resolved"}),""!==r.trim()&&0!==c.length){e.next=10;break}return e.abrupt("return",G.b.error("no picture with name ".concat(r)));case 10:this.setState({images:[].concat(Object(i.a)(this.state.images),Object(i.a)(c))}),window.scrollTo({top:document.documentElement.scrollHeight,behavior:"smooth"}),e.next=18;break;case 14:return e.prev=14,e.t0=e.catch(2),this.setState({status:"rejected"}),e.abrupt("return",G.b.error("smt going wrong"));case 18:case"end":return e.stop()}}),e,this,[[2,14]])})));return function(t,a){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this.state,t=e.images,a=e.status,n=e.showModal,r=e.largeImageURL,o=e.imgTags;return Object(j.jsxs)("div",{children:[Object(j.jsx)(f,{onSearch:this.handleFormSubmit}),"pending"===a&&Object(j.jsx)(C,{}),t.length<1&&Object(j.jsx)(j.Fragment,{children:Object(j.jsx)("h2",{className:"titleName",children:"The gallery is empty! Use search field!"})}),Object(j.jsx)(k,{images:t,handleSelectedImage:this.handleSelectedImage}),0!==t.length&&Object(j.jsx)(L,{onClick:this.handleLoadMore}),Object(j.jsx)(G.a,{}),n&&Object(j.jsx)(T,{onClose:this.toggleModal,children:Object(j.jsx)("img",{src:r,alt:o})})]})}}]),a}(n.Component);c.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(A,{})}),document.getElementById("root"))}},[[78,1,2]]]);
//# sourceMappingURL=main.b26c9792.chunk.js.map