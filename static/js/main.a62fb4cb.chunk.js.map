{"version":3,"sources":["Components/ImageGalleryItem/ImageGalleryItem.module.css","Components/Modal/Modal.module.css","Components/ImageGallery/ImageGallery.module.css","Components/Button/Button.module.css","Components/Searchbar/SearchBar.module.css","Components/Searchbar/Searchbar.jsx","Components/Service/SErvice.jsx","Components/ImageGalleryItem/ImageGalleryItem.jsx","Components/ImageGallery/ImageGallery.jsx","Components/Button/Button.jsx","Components/Loader/Loader.jsx","Components/Modal/Modal.jsx","Components/App.js","index.js"],"names":["module","exports","SearchBar","onSearch","className","s","Searchbar","SearchForm","onSubmit","e","preventDefault","target","elements","imageName","value","type","SearchForm_button","SearchForm_button_label","SearchForm_input","autoComplete","autoFocus","placeholder","name","axios","defaults","baseURL","fetchImages","pageNumber","a","get","data","console","log","hits","ImageGalleryItem","webformatURL","largeImageURL","tags","handleSelectedImage","src","alt","ImageGalleryItem_image","onClick","ImageGallery","images","map","id","ButtonLoadMore","Button","Spinner","color","height","width","modalRoot","document","querySelector","Modal","handleKeyDown","code","props","onClose","handleBackdropClick","event","currentTarget","window","addEventListener","this","removeEventListener","createPortal","Overlay","children","Component","defaultProps","App","state","status","page","error","showModal","imgTags","handleFormSubmit","setState","handleLoadMore","p","scrollOnLoadButton","scrollTo","top","documentElement","scrollHeight","behavior","toggleModal","_","prevState","trim","length","toast","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a62fb4cb.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGalleryItem\":\"ImageGalleryItem_ImageGalleryItem__3juke\",\"ImageGalleryItem_image\":\"ImageGalleryItem_ImageGalleryItem_image__2HgIG\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Overlay\":\"Modal_Overlay__3YEs7\",\"Modal\":\"Modal_Modal__14lk_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"ImageGallery\":\"ImageGallery_ImageGallery__2Kmeu\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Button\":\"Button_Button__2P6wN\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"Searchbar\":\"SearchBar_Searchbar__3WlBA\",\"SearchForm\":\"SearchBar_SearchForm__bkAAF\",\"SearchForm_button\":\"SearchBar_SearchForm_button__32N2G\",\"SearchForm_button_label\":\"SearchBar_SearchForm_button_label__1ODYo\",\"SearchForm_input\":\"SearchBar_SearchForm_input__Ha45n\"};","import s from './SearchBar.module.css';\n\nconst SearchBar = ({ onSearch }) => {\n  return (\n    <header className={s.Searchbar}>\n      <form\n        className={s.SearchForm}\n        onSubmit={e => {\n          e.preventDefault();\n          onSearch(e.target.elements.imageName.value);\n        }}\n      >\n        <button type=\"submit\" className={s.SearchForm_button}>\n          <span className={s.SearchForm_button_label}>Search</span>\n        </button>\n\n        <input\n          className={s.SearchForm_input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          name=\"imageName\"\n        />\n      </form>\n    </header>\n  );\n};\n\nexport default SearchBar;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\n\nconst fetchImages = async (imageName, pageNumber) => {\n  const { data } = await axios.get(\n    `/?q=${imageName}&page=${pageNumber}&key=22647650-093efc913fe4b5bfd764725e8&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n  console.log(data);\n  return data.hits;\n};\n\nexport default fetchImages;\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  handleSelectedImage,\n}) => {\n  return (\n    <li className={s.ImageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={s.ImageGalleryItem_image}\n        onClick={() => handleSelectedImage(largeImageURL, tags)}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    tags: PropTypes.string,\n  }),\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, handleSelectedImage }) => {\n  return (\n    <ul className={s.ImageGallery}>\n      {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n        <ImageGalleryItem\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          tags={tags}\n          handleSelectedImage={handleSelectedImage}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }),\n  ),\n};\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst ButtonLoadMore = ({ onClick }) => {\n  return (\n    <button type=\"button\" className={s.Button} onClick={onClick}>\n      Load more\n    </button>\n  );\n};\nButtonLoadMore.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ButtonLoadMore;\n","import Loader from 'react-loader-spinner';\nimport 'react-loader-spinner/dist/loader/css/react-spinner-loader.css';\nconst Spinner = () => {\n  return <Loader type=\"Hearts\" color=\"#00BFFF\" height={80} width={80} />;\n};\nexport default Spinner;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.Overlay} onClick={this.handleBackdropClick}>\n        <div className={s.Modal}>{this.props.children}</div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.defaultProps = {\n  onClose: () => null,\n  children: null,\n};\n\nModal.propTypes = {\n  onClose: PropTypes.func,\n  children: PropTypes.node,\n};\n\nexport default Modal;\n","import { Component } from 'react';\nimport './App.css';\nimport SearchBar from './Searchbar/Searchbar';\nimport fetchImages from './Service/SErvice';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport ButtonLoadMore from './Button/Button';\nimport Spinner from './Loader/Loader';\nimport toast, { Toaster } from 'react-hot-toast';\nimport Modal from './Modal/Modal';\n\nexport class App extends Component {\n  state = {\n    imageName: null,\n    images: [],\n    status: 'idle',\n    page: 1,\n    error: null,\n    showModal: false,\n    largeImageURL: '',\n    imgTags: '',\n  };\n\n  handleFormSubmit = imageName => {\n    this.setState({ imageName, page: 1, images: [] });\n  };\n\n  handleLoadMore = () => {\n    this.setState(p => ({ page: p.page + 1 }));\n  };\n\n  async componentDidUpdate(_, prevState) {\n    const { imageName, page } = this.state;\n\n    if (prevState.imageName !== imageName || prevState.page !== page) {\n      try {\n        this.setState({ status: 'pending' });\n        const images = await fetchImages(imageName, page);\n\n        this.setState({ status: 'resolved' });\n\n        if (imageName.trim() === '' || images.length === 0) {\n          return toast.error(`no picture with name ${imageName}`);\n        }\n\n        this.setState({\n          images: [...this.state.images, ...images],\n        });\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      } catch (error) {\n        this.setState({ status: 'rejected' });\n        return toast.error('smt going wrong');\n      }\n    }\n  }\n\n  scrollOnLoadButton = () => {\n    window.scrollTo({\n      top: document.documentElement.scrollHeight,\n      behavior: 'smooth',\n    });\n  };\n\n  handleSelectedImage = (largeImageURL, imgTags) => {\n    this.setState({ largeImageURL, imgTags });\n    this.toggleModal();\n  };\n\n  toggleModal = () => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n    }));\n  };\n\n  render() {\n    const { images, status, showModal, largeImageURL, imgTags } = this.state;\n    return (\n      <div>\n        <SearchBar onSearch={this.handleFormSubmit} />\n        {status === 'pending' && <Spinner />}\n        {images.length < 1 && (\n          <>\n            <h2 className=\"titleName\">\n              The gallery is empty! Use search field!\n            </h2>\n          </>\n        )}\n\n        <ImageGallery\n          images={images}\n          handleSelectedImage={this.handleSelectedImage}\n        />\n        {images.length !== 0 && (\n          <ButtonLoadMore onClick={this.handleLoadMore} />\n        )}\n        <Toaster />\n        {showModal && (\n          <Modal onClose={this.toggleModal}>\n            <img src={largeImageURL} alt={imgTags} />\n          </Modal>\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './Components/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}