{"version":3,"sources":["components/ImageGalleryItem/ImageGalleryItem.module.css","components/Modal/Modal.module.css","components/ImageGallery/ImageGallery.module.css","components/Button/Button.module.css","components/Searchbar/SearchBar.module.css","components/Searchbar/Searchbar.jsx","services/imagesApi.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/ImageGallery/ImageGallery.jsx","components/Button/Button.jsx","components/Loader/Loader.jsx","components/Modal/Modal.jsx","components/App.js","index.js"],"names":["module","exports","SearchBar","onSearch","className","s","searchbar","searchForm","onSubmit","e","preventDefault","target","elements","imageName","value","reset","type","searchForm_button","searchForm_button_label","searchForm_input","autoComplete","autoFocus","placeholder","name","axios","defaults","baseURL","fetchImages","pageNumber","a","get","data","console","log","hits","ImageGalleryItem","webformatURL","largeImageURL","tags","handleSelectedImage","imageGalleryItem","src","alt","imageGalleryItem_image","onClick","ImageGallery","images","imageGallery","map","id","ButtonLoadMore","button","Spinner","style","textAlign","color","height","width","modalRoot","document","querySelector","Modal","handleKeyDown","code","props","onClose","handleBackdropClick","event","currentTarget","window","addEventListener","this","removeEventListener","createPortal","overlay","modal","imgTag","Component","defaultProps","children","App","state","status","page","error","imgTags","handleFormSubmit","setState","handleLoadMore","p","closeModal","_","prevState","trim","length","toast","scrollTo","top","documentElement","scrollHeight","behavior","loader","Button","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.801387a8.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGalleryItem\":\"ImageGalleryItem_imageGalleryItem__1wq0i\",\"imageGalleryItem_image\":\"ImageGalleryItem_imageGalleryItem_image__2K4VJ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__3VBzR\",\"modal\":\"Modal_modal__1TS7v\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__XPyQI\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__2tTP_\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"SearchBar_searchbar__1BB6T\",\"searchForm\":\"SearchBar_searchForm__PxV4K\",\"searchForm_button\":\"SearchBar_searchForm_button__3oHcZ\",\"searchForm_button_label\":\"SearchBar_searchForm_button_label__2VKRh\",\"searchForm_input\":\"SearchBar_searchForm_input__1LLrO\"};","import s from './SearchBar.module.css';\n\nconst SearchBar = ({ onSearch }) => {\n  return (\n    <header className={s.searchbar}>\n      <form\n        className={s.searchForm}\n        onSubmit={e => {\n          e.preventDefault();\n          onSearch(e.target.elements.imageName.value);\n          e.target.reset();\n        }}\n      >\n        <button type=\"submit\" className={s.searchForm_button}>\n          <span className={s.searchForm_button_label}>Search</span>\n        </button>\n\n        <input\n          className={s.searchForm_input}\n          type=\"text\"\n          autoComplete=\"off\"\n          autoFocus\n          placeholder=\"Search images and photos\"\n          name=\"imageName\"\n        />\n      </form>\n    </header>\n  );\n};\n\nexport default SearchBar;\n","import axios from 'axios';\n\naxios.defaults.baseURL = 'https://pixabay.com/api';\n\nconst fetchImages = async (imageName, pageNumber) => {\n  const { data } = await axios.get(\n    `/?q=${imageName}&page=${pageNumber}&key=22647650-093efc913fe4b5bfd764725e8&image_type=photo&orientation=horizontal&per_page=12`,\n  );\n  console.log(data);\n  return data.hits;\n};\n\nexport default fetchImages;\n","import PropTypes from 'prop-types';\nimport s from './ImageGalleryItem.module.css';\n\nconst ImageGalleryItem = ({\n  webformatURL,\n  largeImageURL,\n  tags,\n  handleSelectedImage,\n}) => {\n  return (\n    <li className={s.imageGalleryItem}>\n      <img\n        src={webformatURL}\n        alt={tags}\n        className={s.imageGalleryItem_image}\n        onClick={() => handleSelectedImage(largeImageURL, tags)}\n      />\n    </li>\n  );\n};\n\nImageGalleryItem.propTypes = {\n  image: PropTypes.shape({\n    webformatURL: PropTypes.string.isRequired,\n    largeImageURL: PropTypes.string.isRequired,\n    tags: PropTypes.string,\n  }),\n};\n\nexport default ImageGalleryItem;\n","import PropTypes from 'prop-types';\nimport ImageGalleryItem from '../ImageGalleryItem/ImageGalleryItem';\nimport s from './ImageGallery.module.css';\n\nconst ImageGallery = ({ images, handleSelectedImage }) => {\n  return (\n    <ul className={s.imageGallery}>\n      {images.map(({ id, webformatURL, largeImageURL, tags }) => (\n        <ImageGalleryItem\n          key={id}\n          webformatURL={webformatURL}\n          largeImageURL={largeImageURL}\n          tags={tags}\n          handleSelectedImage={handleSelectedImage}\n        />\n      ))}\n    </ul>\n  );\n};\n\nImageGallery.propTypes = {\n  images: PropTypes.arrayOf(\n    PropTypes.shape({\n      id: PropTypes.number.isRequired,\n    }),\n  ),\n};\n\nexport default ImageGallery;\n","import PropTypes from 'prop-types';\nimport s from './Button.module.css';\n\nconst ButtonLoadMore = ({ onClick }) => {\n  return (\n    <button type=\"button\" className={s.button} onClick={onClick}>\n      Load more\n    </button>\n  );\n};\nButtonLoadMore.propTypes = {\n  onClick: PropTypes.func.isRequired,\n};\n\nexport default ButtonLoadMore;\n","import Loader from 'react-loader-spinner';\n\nimport React from 'react';\n\nconst Spinner = () => {\n  const style = { textAlign: 'center' };\n  return (\n    <div style={style}>\n      <Loader type=\"Hearts\" color=\"#00BFFF\" height={80} width={80} />\n    </div>\n  );\n};\n\nexport default Spinner;\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\nimport PropTypes from 'prop-types';\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector('#modal-root');\n\nclass Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.handleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.handleKeyDown);\n  }\n\n  handleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  handleBackdropClick = event => {\n    if (event.currentTarget === event.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    return createPortal(\n      <div className={s.overlay} onClick={this.handleBackdropClick}>\n        <div className={s.modal}>\n          {' '}\n          <img src={this.props.largeImageURL} alt={this.props.imgTag} />\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n\nModal.defaultProps = {\n  onClose: () => null,\n  children: null,\n};\n\nModal.propTypes = {\n  onClose: PropTypes.func,\n  children: PropTypes.node,\n};\n\nexport default Modal;\n","import { Component } from 'react';\nimport toast, { Toaster } from 'react-hot-toast';\nimport SearchBar from './Searchbar/Searchbar';\nimport fetchImages from '../services/imagesApi';\nimport ImageGallery from './ImageGallery/ImageGallery';\nimport ButtonLoadMore from './Button/Button';\nimport Spinner from './Loader/Loader';\nimport Modal from './Modal/Modal';\n\nexport class App extends Component {\n  state = {\n    imageName: null,\n    images: [],\n    status: 'idle',\n    page: 1,\n    error: null,\n    largeImageURL: '',\n    imgTags: '',\n  };\n\n  handleFormSubmit = imageName => {\n    this.setState({ imageName, page: 1, images: [] });\n  };\n\n  handleLoadMore = () => {\n    this.setState(p => ({ page: p.page + 1 }));\n  };\n\n  async componentDidUpdate(_, prevState) {\n    const { imageName, page } = this.state;\n\n    if (prevState.imageName !== imageName || prevState.page !== page) {\n      try {\n        this.setState({ status: 'pending' });\n        const images = await fetchImages(imageName, page);\n\n        this.setState({ status: 'resolved' });\n\n        if (imageName.trim() === '' || images.length === 0) {\n          return toast.error(`no picture with name ${imageName}`);\n        }\n\n        this.setState({\n          images: [...this.state.images, ...images],\n        });\n\n        window.scrollTo({\n          top: document.documentElement.scrollHeight,\n          behavior: 'smooth',\n        });\n      } catch (error) {\n        this.setState({ status: 'rejected' });\n        return toast.error('smt going wrong');\n      } finally {\n        this.setState({ loader: false });\n      }\n    }\n  }\n\n  handleSelectedImage = (largeImageURL, imgTags) => {\n    this.setState({ largeImageURL, imgTags });\n  };\n\n  closeModal = () => {\n    this.setState({ largeImageURL: '' });\n  };\n\n  render() {\n    const { images, status, largeImageURL, imgTags } = this.state;\n    return (\n      <div>\n        <SearchBar onSearch={this.handleFormSubmit} />\n        {images.length < 1 && (\n          <>\n            <h2 className=\"titleName\">\n              The gallery is empty! Use search field!\n            </h2>\n          </>\n        )}\n\n        <ImageGallery\n          images={images}\n          handleSelectedImage={this.handleSelectedImage}\n        />\n        {status === 'pending' && <Spinner />}\n\n        {images.length !== 0 && (\n          <ButtonLoadMore onClick={this.handleLoadMore} />\n        )}\n\n        <Toaster />\n        {largeImageURL && (\n          <Modal\n            onClose={this.closeModal}\n            largeImageURL={largeImageURL}\n            imgTags={imgTags}\n          />\n        )}\n      </div>\n    );\n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport App from './components/App';\nimport './index.css';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}